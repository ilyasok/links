import{r as i,j as e}from"./index-CRnKQOY8.js";import{u as f}from"./DetailsSummary-DER3lful.js";const C=({styleClass:n,imgSrc:c,imgTitle:d,caption:m})=>{if(!f())return null;const[t,w]=i.useState(!1),[u,j]=i.useState(!1),h=n==="figure_windows-light"||n==="figure_windows-dark",s=i.useCallback(()=>{w(!0),j(!1)},[]),l=i.useCallback(()=>{j(!0),setTimeout(()=>{w(!1),j(!1)},250)},[]),x=i.useCallback(()=>{t?l():s()},[t,l,s]),g=i.useCallback(o=>{o.target===o.currentTarget&&l()},[l]);i.useEffect(()=>{const o=v=>{v.key==="Escape"&&t&&l()};return t&&document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[t,l]);const a=h?e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:x,className:"window-header",children:[e.jsx("figcaption",{children:m}),e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"minimize",onClick:l,"aria-label":"Свернуть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 20q-.425 0-.713-.288T4 19q0-.425.288-.713T5 18h14q.425 0 .713.288T20 19q0 .425-.288.713T19 20H5Z"})})}),e.jsx("button",{className:"maximize",onClick:s,"aria-label":"Раскрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M6 20q-.825 0-1.413-.588T4 18V6q0-.825.588-1.413T6 4h12q.825 0 1.413.588T20 6v12q0 .825-.588 1.413T18 20H6Zm0-2h12V6H6v12ZM6 6v12V6Z"})})}),e.jsx("button",{className:"close",onClick:l,"aria-label":"Закрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"})})})]})]}),e.jsx("img",{onClick:x,src:c,alt:d})]}):e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:x,className:"window-header",children:[e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"close",onClick:l,"aria-label":"Закрыть"}),e.jsx("button",{className:"maximize",onClick:s,"aria-label":"Раскрыть"}),e.jsx("button",{className:"minimize",onClick:l,"aria-label":"Свернуть"})]}),e.jsx("figcaption",{children:m})]}),e.jsx("img",{onClick:x,src:c,alt:d})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"figure_container",children:e.jsx("figure",{className:n,children:a})}),t&&e.jsx("div",{className:`fullscreen-overlay ${u?"closing":""}`,onClick:g,children:e.jsx("div",{className:`fullscreen-content ${n} ${u?"closing":""}`,children:a})})]})},p=({styleClass:n,videoSrc:c,caption:d})=>{if(!f())return null;const[r,t]=i.useState(!1),[w,u]=i.useState(!1),j=n==="figure_windows-light"||n==="figure_windows-dark",h=i.useCallback(()=>{t(!0),u(!1)},[]),s=i.useCallback(()=>{u(!0),setTimeout(()=>{t(!1),u(!1)},250)},[]),l=i.useCallback(()=>{r?s():h()},[r,s,h]),x=i.useCallback(a=>{a.target===a.currentTarget&&s()},[s]);i.useEffect(()=>{const a=o=>{o.key==="Escape"&&r&&s()};return r&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[r,s]);const g=j?e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:l,className:"window-header",children:[e.jsx("figcaption",{children:d}),e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"minimize",onClick:s,"aria-label":"Свернуть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 20q-.425 0-.713-.288T4 19q0-.425.288-.713T5 18h14q.425 0 .713.288T20 19q0 .425-.288.713T19 20H5Z"})})}),e.jsx("button",{className:"maximize",onClick:h,"aria-label":"Раскрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M6 20q-.825 0-1.413-.588T4 18V6q0-.825.588-1.413T6 4h12q.825 0 1.413.588T20 6v12q0 .825-.588 1.413T18 20H6Zm0-2h12V6H6v12ZM6 6v12V6Z"})})}),e.jsx("button",{className:"close",onClick:s,"aria-label":"Закрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"})})})]})]}),e.jsx("video",{onClick:l,controls:!0,loop:!0,preload:"metadata",children:e.jsx("source",{src:c})})]}):e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:l,className:"window-header",children:[e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"close",onClick:s,"aria-label":"Закрыть"}),e.jsx("button",{className:"maximize",onClick:h,"aria-label":"Раскрыть"}),e.jsx("button",{className:"minimize",onClick:s,"aria-label":"Свернуть"})]}),e.jsx("figcaption",{children:d})]}),e.jsx("video",{onClick:l,controls:!0,loop:!0,preload:"metadata",children:e.jsx("source",{src:c})})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"figure_container",children:e.jsx("figure",{className:n,children:g})}),r&&e.jsx("div",{className:`fullscreen-overlay ${w?"closing":""}`,onClick:x,children:e.jsx("div",{className:`fullscreen-content ${n} ${w?"closing":""}`,children:g})})]})},N=({link:n,caption:c})=>{if(!f())return null;const m=n.split("/").pop();return e.jsx("div",{className:"figure_container",children:e.jsxs("figure",{className:"figure_browser-youtube",children:[e.jsx("div",{className:"window-header",children:e.jsxs("figcaption",{children:[e.jsx("b",{children:"YouTube"}),": ",c]})}),e.jsx("iframe",{src:`https://www.youtube.com/embed/${m}`,title:c,allowFullScreen:!0})]})})};export{C as I,p as V,N as Y};
