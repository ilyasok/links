import{r as i,j as e}from"./index-DVCs8jVz.js";const f=({styleClass:n,imgSrc:a,imgTitle:r,caption:t})=>{const[c,m]=i.useState(!1),[h,w]=i.useState(!1),u=n==="figure_windows-light"||n==="figure_windows-dark",s=i.useCallback(()=>{m(!0),w(!1)},[]),l=i.useCallback(()=>{w(!0),setTimeout(()=>{m(!1),w(!1)})},[]),x=i.useCallback(()=>{c?l():s()},[c,l,s]),j=i.useCallback(d=>{d.target===d.currentTarget&&l()},[l]);i.useEffect(()=>{const d=g=>{g.key==="Escape"&&c&&l()};return c&&document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[c,l]);const o=u?e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:x,className:"window-header",children:[e.jsx("figcaption",{children:t}),e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"minimize",onClick:l,"aria-label":"Свернуть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 20q-.425 0-.713-.288T4 19q0-.425.288-.713T5 18h14q.425 0 .713.288T20 19q0 .425-.288.713T19 20H5Z"})})}),e.jsx("button",{className:"maximize",onClick:s,"aria-label":"Раскрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M6 20q-.825 0-1.413-.588T4 18V6q0-.825.588-1.413T6 4h12q.825 0 1.413.588T20 6v12q0 .825-.588 1.413T18 20H6Zm0-2h12V6H6v12ZM6 6v12V6Z"})})}),e.jsx("button",{className:"close",onClick:l,"aria-label":"Закрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"})})})]})]}),e.jsx("img",{onClick:x,src:a,alt:r})]}):e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:x,className:"window-header",children:[e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"close",onClick:l,"aria-label":"Закрыть"}),e.jsx("button",{className:"maximize",onClick:s,"aria-label":"Раскрыть"}),e.jsx("button",{className:"minimize",onClick:l,"aria-label":"Свернуть"})]}),e.jsx("figcaption",{children:t})]}),e.jsx("img",{onClick:x,src:a,alt:r})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"figure_container",children:e.jsx("figure",{className:n,children:o})}),c&&e.jsx("div",{className:`fullscreen-overlay ${h?"closing":""}`,onClick:j,children:e.jsx("div",{className:`fullscreen-content ${n} ${h?"closing":""}`,children:o})})]})},b=({styleClass:n,videoSrc:a,caption:r})=>{const[t,c]=i.useState(!1),[m,h]=i.useState(!1),w=n==="figure_windows-light"||n==="figure_windows-dark",u=i.useCallback(()=>{c(!0),h(!1)},[]),s=i.useCallback(()=>{h(!0),setTimeout(()=>{c(!1),h(!1)})},[]),l=i.useCallback(()=>{t?s():u()},[t,s,u]),x=i.useCallback(o=>{o.target===o.currentTarget&&s()},[s]);i.useEffect(()=>{const o=d=>{d.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[t,s]);const j=w?e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:l,className:"window-header",children:[e.jsx("figcaption",{children:r}),e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"minimize",onClick:s,"aria-label":"Свернуть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 20q-.425 0-.713-.288T4 19q0-.425.288-.713T5 18h14q.425 0 .713.288T20 19q0 .425-.288.713T19 20H5Z"})})}),e.jsx("button",{className:"maximize",onClick:u,"aria-label":"Раскрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M6 20q-.825 0-1.413-.588T4 18V6q0-.825.588-1.413T6 4h12q.825 0 1.413.588T20 6v12q0 .825-.588 1.413T18 20H6Zm0-2h12V6H6v12ZM6 6v12V6Z"})})}),e.jsx("button",{className:"close",onClick:s,"aria-label":"Закрыть",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"})})})]})]}),e.jsx("video",{onClick:l,controls:!0,loop:!0,preload:"metadata",children:e.jsx("source",{src:a})})]}):e.jsxs("div",{children:[e.jsxs("div",{onDoubleClick:l,className:"window-header",children:[e.jsxs("div",{className:"window-controls",children:[e.jsx("button",{className:"close",onClick:s,"aria-label":"Закрыть"}),e.jsx("button",{className:"maximize",onClick:u,"aria-label":"Раскрыть"}),e.jsx("button",{className:"minimize",onClick:s,"aria-label":"Свернуть"})]}),e.jsx("figcaption",{children:r})]}),e.jsx("video",{onClick:l,controls:!0,loop:!0,preload:"metadata",children:e.jsx("source",{src:a})})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"figure_container",children:e.jsx("figure",{className:n,children:j})}),t&&e.jsx("div",{className:`fullscreen-overlay ${m?"closing":""}`,onClick:x,children:e.jsx("div",{className:`fullscreen-content ${n} ${m?"closing":""}`,children:j})})]})},k=({link:n,caption:a})=>{const r=n.split("/").pop();return e.jsxs("figure",{className:"figure_browser-youtube",children:[e.jsx("div",{className:"window-header",children:e.jsxs("figcaption",{children:[e.jsx("b",{children:"YouTube"}),": ",a]})}),e.jsx("iframe",{src:`https://www.youtube.com/embed/${r}`,title:a,allowFullScreen:!0})]})};export{f as I,b as V,k as Y};
