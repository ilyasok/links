import{j as e}from"./index-C4Wk4Mld.js";import{D as r}from"./DetailsSummary-oQ7Rt8je.js";import{G as c}from"./GithubUpdateInfo-CtqXCTr8.js";import{A as i,b as a}from"./Footer-B7v1146i.js";import{I as s,Y as l}from"./ContentFigure-BePQNbc4.js";const f=()=>e.jsxs("div",{className:"faq-content",children:[e.jsx(c,{filePath:"src/pages/sections/aefaq/Performance.tsx"}),e.jsxs(r,{title:"Почему у меня, б%@#ь, лагает е&#!%й After Effects, с$%а?",children:[e.jsxs("p",{children:['Здесь по этому вопросу можно рассуждать долго и бесконечно. Тут нельзя назвать конкретную причину этого магического явления, так как всё обычно упирается в действия пользователя или в железо его устройства. Программа не любит, когда вы накидываете кучу эффектов, называя свою композицию "эдитом", не любит когда вы пытаетесь монтировать часовое видео в'," ",e.jsx("mark",{className:"app",children:"After Effects"})," либо просто программе не нравятся ваши исходники."]}),e.jsxs("p",{children:["Для начала, пожалуйста, проверьте ваше устройство на соответствие"," ",e.jsx("a",{href:"https://helpx.adobe.com/ru/after-effects/system-requirements.html",children:"системным требованиям"})," ","для ",e.jsx("mark",{className:"app",children:"After Effects"}),". На момент написания этого пункта для адекватной работы требуется минимум 16 Гб ОЗУ (для более комфортной работы - минимум 32 Гб ОЗУ) и процессор от Intel минимум 8-го поколения или AMD Ryzen минимум 1000 серии."]}),e.jsxs(i,{children:["С ",e.jsx("mark",{className:"app",children:"After Effects 2024"})," и новее требуются процессоры с поддержкой инструкций AVX2. Если у вашего процессора нет таких инструкций, то для вас последняя версия программы - ",e.jsx("mark",{children:"23.6"}),", более свежую вы не сможете поставить,"," ",e.jsx("del",{style:{opacity:"0.5"},children:"если не вырезать требования к процессору при установке"}),"."]}),e.jsxs("p",{children:["Предположим, что ваше устройство прекрасно соответствует системным требованиям и вы начинаете работу, постепенно накидывая в композиции кучу различных эффектов. И как раз из-за них вся производительность падает, особенно если вы используете сторонние плагины из пакетов от ",e.jsx("mark",{children:"BorisFX"})," или ",e.jsx("mark",{children:"Red Giant"}),". Постарайтесь не устанавливать кучу плагинов и расширений в"," ",e.jsx("mark",{className:"app",children:"After Effects"}),", а также не мешать в проекте кучу эффектов с одинаковой сутью, но из разных пакетов, например"," ",e.jsx("mark",{className:"plugin",children:"BCC Camera Shake"})," и"," ",e.jsx("mark",{className:"plugin",children:"uni.shake"}),". Иногда неверная очерёдность эффектов может привести к непредвиденным результатам, а также к снижению производительности."]}),e.jsxs(a,{children:["По умолчанию в ",e.jsx("mark",{className:"app",children:"After Effects"})," 2022 и новее включена функция ",e.jsx("mark",{className:"ui",children:"Cache Frames When Idle"}),", которая начинает кэширование композиции, когда вы ничего не делаете. Часто на слабых устройствах эта функция заставляет тормозить программу и систему, поэтому рекомендую его отключить. Для этого достаточно прожать комбинацию клавиш"," ",e.jsx("mark",{className:"key",children:"Alt + Shift + I"})," или выключить его в"," ",e.jsx("mark",{className:"ui",children:"Composition > Preview"}),"."]}),e.jsxs("p",{children:["В ",e.jsx("mark",{className:"app",children:"After Effects"})," с версий 2022 и новее добавили функционал ",e.jsx("mark",{className:"ui",children:"Render Time"}),", позволяющий увидеть время рендера того или иного эффекта в ваших слоях. С помощью него можно проанализировать производительность вашего проекта и по возможности оптимизировать его, заменив эффекты на более лёгкие или убрав их. Также внизу пишется общее время рендера текущего кадра, вычисляя время рендера всех слоев."]}),e.jsxs(a,{children:["Чтобы включить отображение времени рендера того или иного слоя, нажмите на иконку улитки в левом нижнем углу окна таймлайна или включите колонку"," ",e.jsx("mark",{className:"ui",children:"Render Time"})," в пункте"," ",e.jsx("mark",{className:"ui",children:"Columns"}),", нажав ",e.jsx("mark",{className:"key",children:"ПКМ"})," по столбцам."]}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"/images/aftereffects/view_render_time.png",imgTitle:"Смотрим время рендера слоя",caption:"Timeline"}),e.jsx("p",{children:"Теперь перейдём к другой категории проблем пользователя, связанных с исходниками видео, фото и аудио. Часто пользователи скачивают различные файлы, пережатые непонятно во что и импортируют в программу, а потом через некоторое время замечают некоторые проблемы: артефакты, баги или вообще снижению производительности при банальных действиях с композицией."}),e.jsxs("p",{children:["Если вы скачали видео в формате .mp4, то вам необходимо переконвертировать его в срочном порядке в ",e.jsx("mark",{className:"video",children:"Apple ProRes 422"})," или"," ",e.jsx("mark",{className:"video",children:"DNxHR"})," через"," ",e.jsx("mark",{className:"app",children:"Media Encoder"})," или"," ",e.jsx("mark",{className:"app",children:"Shutter Encoder"}),". Это делать нужно каждый раз, прежде чем импортировать файлы в ",e.jsx("mark",{className:"app",children:"After Effects"}),', полученные через YouTube или другие подобные площадки. Вы спросите, "а почему?", а ответ прост - такие видео запакованы непонятно в что и могут плохо крутиться программой.']}),e.jsxs("p",{children:["Если ваше видео закодировано с переменным FPS (узнать об этом можно через"," ",e.jsx("mark",{className:"app",children:"MediaInfo"}),"), то такие файлы нужно переконвертировать через выше названные утилиты в постоянный (Constant) FPS."]}),e.jsx(l,{link:"MprgQSTqL9E",caption:"Типы кодеков и их применение"}),e.jsxs("p",{children:["Также чтобы исключить проблемы с звуковыми дорожками - аудио-файлы тоже следует переконвертировать, например в ",e.jsx("mark",{className:"file",children:".wav"}),", ведь оно может проигрываться рыками, замедленно или с другими звуковыми багами. Переконвертировать аудио можно также через"," ",e.jsx("mark",{className:"app",children:"Media Encoder"}),","," ",e.jsx("mark",{className:"app",children:"Shutter Encoder"})," или"," ",e.jsx("mark",{className:"app",children:"EZ CD Audio Converter"}),"."]}),e.jsx("p",{children:"В редких случаях проблемы с производительностью могут возникнуть из-за шрифтов в проекте. Да, такое бывает, когда пользователь использует кривой шрифт и даже не догадывается об этом. Для решения этой проблемы достаточно заменить шрифт на аналогичный или скачать его из другого источника."}),e.jsxs("p",{children:["Также важную роль в производительности программы играет накопитель, на котором установлена программа и на котором лежат исходники. Если вы с"," ",e.jsx("mark",{children:"M.2 SSD"})," особых проблем не почувствуете, то при работе с исходниками с ",e.jsx("mark",{children:"HDD"}),", особенно медленных и потрёпанных жизнью, могут начаться проблемы. Если у вас есть ",e.jsx("mark",{children:"SSD"})," с большим объёмом памяти - следует перенести весь проект туда и продолжить работу, используя его."]})]}),e.jsxs(r,{title:"Как заставить программу использовать всю мощь компьютера?",children:[e.jsxs("p",{children:["Предположим, что вы только-только купили новый процессор и хотите его отжарить, а ",e.jsx("mark",{className:"app",children:"After Effects"})," делает это не охотно, то с помощью функции ",e.jsx("mark",{className:"ui",children:"Multi-Frame Rendering"})," вы сможете заставить программу использовать весь потенциал процессора за счёт рендера нескольких кадров одновременно. В новых версиях ",e.jsx("mark",{className:"app",children:"After Effects"})," ","он включен по умолчанию и в настройках можно ограничить использование процессора на вашем компьютере, для того, чтобы дать другим программам на вашем компе немного мощности."]}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"/images/aftereffects/mfr_settings.png",imgTitle:"Настройка ограничения процессора при многокадровом рендере",caption:"Preferences"}),e.jsx(i,{children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Пожалуйста, не путайте значения и внимательно прочтите пункт настройки. Значение ",e.jsx("mark",{children:"10%"})," означает, что"," ",e.jsx("mark",{className:"app",children:"After Effects"})," будет использовать"," ",e.jsx("mark",{children:"90%"})," использования процессора и оставит ",e.jsx("mark",{children:"10%"})," для остальных программ. Если вы установите значение ",e.jsx("mark",{children:"70%"}),", то вы отдадите программе всего лишь ",e.jsx("mark",{children:"30%"})," мощности."]}),e.jsxs("li",{children:["Использование ",e.jsx("mark",{className:"ui",children:"Multi-Frame Rendering"})," может привести к увеличению потребления оперативной памяти и есть риск чаще видеть ошибку ",e.jsx("mark",{children:"Out of Memory"}),". Для этого либо отключите"," ",e.jsx("mark",{className:"ui",children:"Multi-Frame Rendering"}),", либо ограничьте использование оперативной памяти, увеличив значение"," ",e.jsx("mark",{className:"ui",children:"RAM reserved for other applications"})," в настройках. Также"," ",e.jsx("a",{href:"https://remontka.pro/fail-podkachki-windows/",children:"настройте файл подкачки"}),", если у вас устройство на Windows и установите программу"," ",e.jsx("a",{href:"https://github.com/henrypp/memreduct/releases",children:"Mem Reduct"})," для периодической очистки ОЗУ."]})]})}),e.jsxs("p",{children:["Поговорим про видеокарту. Даже если вы и купили условный ",e.jsx("mark",{children:"RTX 4090"}),", то программе будет на это пофиг. Абсолютно. Компании Adobe без разницы несколько у вас мощная видеокарта, пока у ",e.jsx("mark",{className:"app",children:"After Effects"})," до сих пор нет полной поддержки GPU-ускорения. Конечно, вы можете использовать сторонние эффекты с поддержкой GPU-ускорения, например из пакета"," ",e.jsx("mark",{className:"plugin",children:"BorisFX Sapphire"})," или"," ",e.jsx("mark",{className:"plugin",children:"Red Giant"}),". Но если вы примените эффект, который не поддерживает GPU-ускорение, то толк от видеокарты начинает пропадать."]}),e.jsxs("p",{children:["Включить отображение только тех эффектов, которые поддерживают GPU-ускорение, можно с помощью контекстного меню в окне"," ",e.jsx("mark",{className:"ui",children:"Effects & Presets"}),", включив пункт"," ",e.jsx("mark",{className:"ui",children:"Show GPU Capable Effects Only"}),". После включения этого параметра вы заметите, насколько сильно сократится список ваших эффектов."]}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"images/aftereffects/show_gpu_capable_effects_only.png",imgTitle:"Включение отображение только тех эффектов, которые поддерживают GPU-ускорение",caption:"After Effects"}),e.jsx("p",{children:"Рядом с названием плагинов обычно отображаются значки, которые показывают максимальную поддержку битности цветов (8, 16 или 32 бит) и иногда показывается вторая иконка рядом с битностью, которая показывает, что этот эффект поддерживает GPU-ускорение."}),e.jsx(a,{children:"Если эффект поддерживает только 8 бит на цветовой канал, а в менеджере проекта вы выставите 16 или 32 бита, то при применении такого эффекта выскочит предупреждение, показывающая что при использовании большей битности в проекте - эффект может сократить вам цветовой охват и может некорректно работать с HDR исходниками."}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"images/aftereffects/effect_icons.png",imgTitle:"Иконки рядом с эффектами",caption:"Effects & Presets"}),e.jsxs("p",{children:["У некоторых возникает ещё странный вопрос, мол почему видеокарта в"," ",e.jsx("mark",{className:"app",children:"Premiere Pro"})," используется чаще, чем в"," ",e.jsx("mark",{className:"app",children:"After Effects"}),"? Ответ прост,"," ",e.jsx("mark",{className:"app",children:"Premiere Pro"})," является программой для нелинейного монтажа и обычно от него ожидают больше производительность и работу с исходниками в режиме реального времени, порой забивая на качество результата. А"," ",e.jsx("mark",{className:"app",children:"After Effects"})," в первую очередь - программа для композитинга и создания эффектов, от него ожидают качество, пусть и с маленькой производительностью. Да, ",e.jsx("mark",{className:"app",children:"After Effects"})," стараются время от времени как-то оптимизировать и где-то улучшить производительность, но высокой скорости работы от программы ждать не надо. Программы хоть и схожи по задаче редактирования видео, но подходы их реализации разительно отличаются."]})]}),e.jsxs(r,{title:"Как отключить автоматическое кэширование предпросмотра при бездействии?",children:[e.jsxs("p",{children:["Функция автоматического кэширования кадров во время простоя была добавлена в"," ",e.jsx("mark",{className:"app",children:"After Effects"})," версии 2022 и новее, а также включена по умолчанию. Но эта функция часто мешает комфортной работе с проектом на слабых компьютерах или с нагруженными эффектами, нагружая системные компоненты лишний раз и заполняя оперативную память. Благо в Adobe додумались ввести параметр для отключения кэширования в простое."]}),e.jsxs("p",{children:["Для отключения автоматического кэширования при бездействии пользователя, перейдите в ",e.jsx("mark",{className:"ui",children:"Composition > Preview"})," и выключите галочку ",e.jsx("mark",{className:"ui",children:"Cache Frames When Idle"})," или прожмите комбинацию клавиш ",e.jsx("mark",{className:"key",children:"Alt + Shift + I"}),"."]}),e.jsx(s,{styleClass:"figure_windows-light",imgSrc:"/images/aftereffects/disable_idle_cache.png",imgTitle:"Отключение автоматического кэширования предпросмотра при бездействии",caption:"After Effects"}),e.jsxs("p",{children:["Если вы не хотите отключать эту функцию, но хотите изменить время, после которого начнётся автоматического кэширования, то перейдите в"," ",e.jsx("mark",{className:"ui",children:"Edit > Preferences > Previews"}),". В пункте"," ",e.jsx("mark",{className:"ui",children:"Idle Delay Before Caching Starts"})," вы можете указать любое число от ",e.jsx("mark",{children:"2"})," до ",e.jsx("mark",{children:"15"}),"."]}),e.jsx(a,{children:"Чуть ниже этого пункта можно настроить область кэширования и направление кэширования: вокруг временной метки, от временной метки или от начала рабочей области."}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"/images/aftereffects/change_time_idle_cache.png",imgTitle:"Изменение времени для автоматического кэширования при бездействии",caption:"Preferences"})]}),e.jsxs(r,{title:"Зачем люди переключают рендер на процессор, если есть видеокарта? Как мне переключить рендер на процессор?",children:[e.jsxs("p",{children:["Несмотря на то, что в окне менеджера проекта можно включить видеокарту, программа не будет использовать его во многих случаях, особенно когда вы применяете CPU-эффекты вместе с GPU-эффектами. Рендер на процессоре (или же при включенном пункте ",e.jsx("mark",{className:"ui",children:"Mercury Software Only"}),") может уменьшить количество возможных артефактов и багов после экспорта вашего проекта, нежели при использовании псевдо-GPU-ускорения."]}),e.jsxs("p",{children:["Для изменения, на чём выполнять рендеринг, нужно перейти в"," ",e.jsx("mark",{className:"ui",children:"Project Manager"}),". Его можно открыть комбинацией клавиш ",e.jsx("mark",{className:"key",children:"Ctrl + Alt + Shift + K"}),". В вкладке"," ",e.jsx("mark",{className:"ui",children:"Video Rendering and Effects"})," можно выбрать то, что нам нужно, а именно ",e.jsx("mark",{className:"ui",children:"Mercury Software Only"})," для включения рендера на процессоре."]}),e.jsx(s,{styleClass:"figure_windows-dark",imgSrc:"/images/aftereffects/project_manager_mercury.png",imgTitle:"Переключение типа рендера",caption:"Project Manager"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("mark",{className:"ui",children:"Mercury Software Only"})," позволяет"," ",e.jsx("mark",{className:"app",children:"After Effects"})," реже прибегать к использованию видеокарты и использовать в большинстве случаев рендеринг на процессоре.",e.jsxs(a,{children:["При включенном ",e.jsx("mark",{className:"ui",children:"Mercury Software Only"})," ","какой-нибудь сторонний эффект всё же может просчитаться через GPU при необходимости, например ",e.jsx("mark",{className:"plugin",children:"Depth Scanner"}),". Обычно это поведение можно изменить в настройках стороннего плагина."]})]}),e.jsxs("li",{children:[e.jsx("mark",{className:"ui",children:"Mercury GPU Acceleration (CUDA или OpenCL)"})," ","использует процессор и видеокарту, но видеокарта никогда не будет гарантированна использоваться во всех случаях, она будет использоваться только при необходимости самой программой.",e.jsxs(i,{children:["На видеокартах с малым объёмом VRAM лучше не использовать этот пункт, ибо будете часто сталкиваться с ошибкой"," ",e.jsx("mark",{children:"After Effects has encountered a failure related to GPU-enabled effects from this frame"}),"."]})]})]}),e.jsxs("p",{children:["При включенном пункте ",e.jsx("mark",{className:"ui",children:"Mercury Software Only"}),", то есть при рендере на процессоре, время просчёта композиций может измениться в худшую сторону, но зачастую остаётся неизменным. Иногда при рендеринге на процессоре просчёт может пройти быстрее, чем при использовании"," ",e.jsx("mark",{className:"ui",children:"Mercury GPU Acceleration"}),"."]})]}),e.jsx(r,{title:"Предпросмотр идёт как-будто в slow-motion, что делать?",children:e.jsx("p",{})})]});export{f as default};
