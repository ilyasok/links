import{r as o,j as i}from"./index-D0Lu-Gd2.js";const y="aechat",$="links",w="main",S=({filePath:r})=>{const[c,n]=o.useState("Ищем информацию..."),[a,m]=o.useState(null),l=async()=>{const p=`https://api.github.com/repos/${y}/${$}/commits?path=${r}&sha=${w}`;try{const t=await fetch(p);if(!t.ok)throw new Error(`${t.status}`);const e=await t.json();if(e.length===0){n("Информация о свежести временно недоступна");return}const s=new Date(e[0].commit.author.date),h={year:"2-digit",month:"2-digit",day:"2-digit"},g={hour:"2-digit",minute:"2-digit"},u=s.toLocaleString("ru-RU",h),d=s.toLocaleString("ru-RU",g),f=e[0].commit.message,x=e[0].html_url;n(`Обновлено ${u}, ${d}: <a target="_blank" rel="noreferrer" href="${x}" target="_blank">${f}</a>`)}catch(t){m(`Информация о свежести временно недоступна: ${t}`)}};return o.useEffect(()=>{l()},[r]),a?i.jsx("p",{style:{color:"red",fontSize:"0.75rem",opacity:"0.5",textAlign:"right",textWrap:"balance",whiteSpace:"pre-wrap",hyphens:"none",lineHeight:"1.25",marginBlockEnd:"20px"},children:a}):i.jsx("p",{style:{filter:"saturate(0.5)",fontSize:"0.75rem",opacity:"0.5",textAlign:"right",hyphens:"none",whiteSpace:"pre-wrap",lineHeight:"1.25",marginBlockEnd:"20px"},dangerouslySetInnerHTML:{__html:c}})};export{S as G};
